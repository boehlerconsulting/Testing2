<!--
/**
 *@author       Mats Böhler
 *@created      01.04.2021
 *
 *
 *@description  einrichtungsprozessNachbesserung
 *
 *
 *@changelog    01.04.2021 Mats Böhler - Created
 *              
 * 
 */
 -->

<!-- Einrichtungsprozess Nachbesserung -->
<template>

    <lightning-spinner if:true={showSpinner} alternative-text="Loading" size="medium"
                       variant="brand"></lightning-spinner>

    <a class="slds-button slds-button_neutral"
       href="javascript:void(0);"
       title="Nachbesserung anfordern"
       onclick={handleShowNachbesserung}>
        Nachbesserung anfordern
        <template if:true={isSaving}>
            <div class="slds-spinner_container">
                <div role="status" class="slds-spinner slds-spinner_x-small">
                    <span class="slds-assistive-text">Loading</span>
                    <div class="slds-spinner__dot-a"></div>
                    <div class="slds-spinner__dot-b"></div>
                </div>
            </div>
        </template>
    </a>

    <template if:true={showNachbesserung}>

        <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-02" aria-modal="true"
                 aria-describedby="modal-content-id-2" class="slds-modal slds-fade-in-open slds-modal_small slds-border_top">
            <div class="slds-modal__container">

                <header class="slds-modal__header slds-border_top slds-border_left slds-border_right">
                    <button class="slds-button slds-button_icon slds-modal__close"
                            title="Close" onclick={closeNachbesserung}>
                        <lightning-icon icon-name="utility:close" size="medium" variant="inverse">
                        </lightning-icon>
                        <span class="slds-assistive-text">Schließen</span>
                    </button>
                    <h2 id="modal-heading-02" class="slds-text-heading_medium slds-hyphenate">
                        Nachbesserung</h2>
                </header>
                <div class="slds-modal__content slds-p-around_medium  slds-border_left slds-border_right" id="modal-content-id-2">

                    <lightning-layout>

                        <lightning-layout-item size="12" padding="around-small">

                            <lightning-textarea
                                    label="Aufgabenbeschreibung"
                                    value={beschreibungNachbesserung}
                                    onchange={handleNachbesserungChange}
                            >
                            </lightning-textarea>

                        </lightning-layout-item>

                    </lightning-layout>

                    <lightning-layout>

                        <lightning-layout-item size="4" padding="around-small">

                            <a class="slds-button slds-button_neutral"
                               href="javascript:void(0);"
                               title="Nachbesserung anfordern"
                               onclick={handleNachbesserungClick}>
                                Nachbesserung anfordern
                                <template if:true={isSaving}>
                                    <div class="slds-spinner_container">
                                        <div role="status" class="slds-spinner slds-spinner_x-small">
                                            <span class="slds-assistive-text">Loading</span>
                                            <div class="slds-spinner__dot-a"></div>
                                            <div class="slds-spinner__dot-b"></div>
                                        </div>
                                    </div>
                                </template>
                            </a>

                        </lightning-layout-item>

                    </lightning-layout>

                </div>
                <footer class="slds-modal__footer slds-modal__footer_directional">

                </footer>
            </div>

        </section>
        <div class="slds-backdrop slds-backdrop_open"></div>
    </template>

</template>